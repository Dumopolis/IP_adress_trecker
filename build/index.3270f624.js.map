{"mappings":"AAAOA,eAAeC,EAAWC,EAAK,WAClC,MAAMC,QAAiBC,MAAM,yGACqEF,KAElG,aAAaC,EAASE,M,CCD1B,MAAMC,EAAUC,SAASC,cAAc,sBACjCC,EAAMF,SAASC,cAAc,UACnCD,SAASG,iBAAiB,mBAAoBC,EAAQ,MAAM,IAC5D,MAAMC,EAASL,SAASC,cAAc,OAChCK,EAAeN,SAASC,cAAc,aACtCM,EAAeP,SAASC,cAAc,aACtCO,EAAUR,SAASC,cAAc,QAKvC,SAASQ,ICdF,IAAoBd,IDgBRI,EAAQW,OCfnB,4GAA4GC,KAAKhB,KAGrHiB,MAAM,uCACC,KDYHlB,EAAWK,EAAQW,OACdG,KAAKC,E,CAYlB,SAASV,EAAQ,EAAM,GACnB,MAAMW,EAAM,IAAIC,OAAOC,KAAKC,IAAIlB,SAASmB,eAAe,OAAQ,CAC5DC,OAAQ,CAAEC,IAAK,EAAMC,IAAK,GAC1BC,KAAM,IAES,IAAIP,OAAOC,KAAKO,WACnCC,OAAOC,YAAW,KACC,IAAIV,OAAOC,KAAKU,OAAO,CACtCC,SAAU,CAAEP,IAAK,EAAMC,IAAK,GAC5BP,IAAKA,EACLc,UAAWb,OAAOC,KAAKa,UAAUC,MAC/B,GACH,I,CAMP,SAASjB,EAAQkB,GACb,MAAMX,IAAEA,EAAGC,IAAEA,EAAGW,QAAEA,EAAOC,OAAEA,EAAMC,SAAEA,GAAaH,EAAQI,SACxD/B,EAAOgC,UAAYL,EAAQrC,GAC3BW,EAAa+B,UAAYJ,EAAU,KAAOC,EAC1C3B,EAAa8B,UAAY,KAAOF,EAChC3B,EAAQ6B,UAAYL,EAAQM,IAC5BlC,EAAQiB,EAAKC,E,CA3CjBpB,EAAIC,iBAAiB,QAASM,GAC9BV,EAAQI,iBAAiB,WAWzB,SAAmBoC,GACG,UAAdA,EAAMC,KACN/B,G","sources":["src/helpers/get-addres.js","src/index.js","src/helpers/validate_ip.js"],"sourcesContent":["export async function getAddress(ip = '8.8.8.8') {\n    const response = await fetch(`\n        https://geo.ipify.org/api/v2/country,city?apiKey=at_arxAosnBG7doMiAY0SuQ0Bwg8lnxb&ipAddress=${ip}`);\n\n    return await response.json();\n    }\n","\nimport { validateIp, getAddress } from './helpers'\n\nconst ipInput = document.querySelector('.search-bar__input');\nconst btn = document.querySelector('button');\ndocument.addEventListener('DOMContentLoaded', initMap(52.6, -2));\nconst ipInfo = document.querySelector('#ip');\nconst locationInfo = document.querySelector('#location');\nconst timezoneInfo = document.querySelector('#timezone');\nconst ispInfo = document.querySelector('#isp');\n\nbtn.addEventListener('click', getData);\nipInput.addEventListener('keydown', handleKey)\n\nfunction getData() {\n    //проверка данных\n    if (validateIp(ipInput.value)) {\n        getAddress(ipInput.value)\n            .then(setInfo)\n\n    }\n}\n\nfunction handleKey(event) {\n    if (event.key === 'Enter') {\n        getData()\n    }\n}\n\n\nfunction initMap(latу, lngу) {\n    const map = new google.maps.Map(document.getElementById(\"map\"), {\n        center: { lat: latу, lng: lngу },\n        zoom: 9,\n    });\n    const infoWindow = new google.maps.InfoWindow();\n    window.setTimeout(() => {\n        const marker = new google.maps.Marker({\n        position: { lat: latу, lng: lngу },\n        map: map,\n        animation: google.maps.Animation.DROP,\n        })\n    }, 500)\n\n \n}\n\n\nfunction setInfo(mapData) {\n    const { lat, lng, country, region, timezone } = mapData.location;\n    ipInfo.innerText = mapData.ip;\n    locationInfo.innerText = country + '\\n' + region;\n    timezoneInfo.innerText = '\\n' + timezone;\n    ispInfo.innerText = mapData.isp;\n    initMap(lat, lng)\n}\n","export function validateIp(ip) {\n    if (/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(ip)) {\n        return true;\n}\n    alert('You have to enter a valid IP addres');\n    return false;\n}"],"names":["async","$95200b5b9d72dec2$export$88411125f012957a","ip","response","fetch","json","$35da740d59af89ba$var$ipInput","document","querySelector","$35da740d59af89ba$var$btn","addEventListener","$35da740d59af89ba$var$initMap","$35da740d59af89ba$var$ipInfo","$35da740d59af89ba$var$locationInfo","$35da740d59af89ba$var$timezoneInfo","$35da740d59af89ba$var$ispInfo","$35da740d59af89ba$var$getData","value","test","alert","then","$35da740d59af89ba$var$setInfo","map","google","maps","Map","getElementById","center","lat","lng","zoom","InfoWindow","window","setTimeout","Marker","position","animation","Animation","DROP","mapData","country","region","timezone","location","innerText","isp","event","key"],"version":3,"file":"index.3270f624.js.map"}